
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Music.set_position &#8212; Bass4Py 0.1.dev359 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Music.set_sync" href="Bass4Py.bass.Music.set_sync.html" />
    <link rel="prev" title="Music.set_fx" href="Bass4Py.bass.Music.set_fx.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="music-set-position">
<h1>Music.set_position<a class="headerlink" href="#music-set-position" title="Permalink to this headline">¶</a></h1>
<dl class="py method">
<dt class="sig sig-object py" id="Bass4Py.bass.Music.set_position">
<span class="sig-prename descclassname"><span class="pre">Music.</span></span><span class="sig-name descname"><span class="pre">set_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">pos</span></em>, <em class="sig-param"><span class="pre">DWORD</span> <span class="pre">mode=_BASS_POS_BYTE</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">decodeto=False</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">flush=False</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">inexact=False</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">relative=False</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">scan=False</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">stop_when_seeking=False</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">reset_when_seeking=False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Bass4Py.bass.Music.set_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the playback position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>) – the playback position. When the mode parameter is set to
<a class="reference internal" href="Bass4Py.constants.POSITION.MUSIC_ORDER.html#Bass4Py.constants.POSITION.MUSIC_ORDER" title="Bass4Py.constants.POSITION.MUSIC_ORDER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.MUSIC_ORDER</span></code></a>, a tuple with two entries
(order, row) is required, otherwise an integer.</p></li>
<li><p><strong>mode</strong> (<a class="reference internal" href="Bass4Py.constants.POSITION.html#Bass4Py.constants.POSITION" title="Bass4Py.constants.POSITION"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION</span></code></a>) – <p>one of the following:</p>
<ul>
<li><p><a class="reference internal" href="Bass4Py.constants.POSITION.BYTE.html#Bass4Py.constants.POSITION.BYTE" title="Bass4Py.constants.POSITION.BYTE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.BYTE</span></code></a> (default): The position is in
bytes, which will be rounded down to the nearest sample boundary.</p></li>
<li><p><a class="reference internal" href="Bass4Py.constants.POSITION.MUSIC_ORDER.html#Bass4Py.constants.POSITION.MUSIC_ORDER" title="Bass4Py.constants.POSITION.MUSIC_ORDER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.MUSIC_ORDER</span></code></a>: The position is a tuple
with order and row (available for <a class="reference internal" href="Bass4Py.bass.Music.html#Bass4Py.bass.Music" title="Bass4Py.bass.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.bass.Music</span></code></a> only)</p></li>
<li><p><a class="reference internal" href="Bass4Py.constants.POSITION.OGG.html#Bass4Py.constants.POSITION.OGG" title="Bass4Py.constants.POSITION.OGG"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.OGG</span></code></a>: The position is a bitstream
number in an OGG file… 0 = first.</p></li>
<li><p><a class="reference internal" href="Bass4Py.constants.POSITION.END.html#Bass4Py.constants.POSITION.END" title="Bass4Py.constants.POSITION.END"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.END</span></code></a>: The position is in bytes and is
where the channel will end… 0 = normal end position. This will have
no effect if it is beyond the channel’s normal end position. If the
channel is already at/beyond the position then it will end at its
current position.</p></li>
<li><p><a class="reference internal" href="Bass4Py.constants.POSITION.LOOP.html#Bass4Py.constants.POSITION.LOOP" title="Bass4Py.constants.POSITION.LOOP"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.LOOP</span></code></a>: The position is in bytes and
is where looping will start from (when looping is enabled). If this is
at/beyond the end then the default loop position of 0 will be used
instead.</p></li>
</ul>
</p></li>
<li><p><strong>decodeto</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Decode/render up to the position rather than seeking to it. This is
useful for streams that are unseekable or that have inexact seeking, but
it is generally slower than normal seeking and the requested position
cannot be behind the current decoding position. This flag can only be
used with the <a class="reference internal" href="Bass4Py.constants.POSITION.BYTE.html#Bass4Py.constants.POSITION.BYTE" title="Bass4Py.constants.POSITION.BYTE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.BYTE</span></code></a> mode.</p></li>
<li><p><strong>flush</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Flush all output buffers (including FX) so that no remnant of the old
position is heard after seeking. This is automatic on normal playback
channels (not decoding channels) outside of a “mixtime”
<a class="reference internal" href="Bass4Py.bass.Sync.html#Bass4Py.bass.Sync" title="Bass4Py.bass.Sync"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.bass.Sync</span></code></a>.</p></li>
<li><p><strong>inexact</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Allow inexact seeking. For speed, seeking may stop at the beginning of a
block rather than partially processing the block to reach the requested
position.</p></li>
<li><p><strong>relative</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – The requested position is relative to the current position. pos can be
negative in this case.</p></li>
<li><p><strong>scan</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Scan the file to build a seek table up to the position, if it has not
already been scanned. Scanning will continue from where it left off
previously rather than restarting from the beginning of the file each
time. This flag only applies to MP3/MP2/MP1 files and will be ignored
with other file formats.</p></li>
<li><p><strong>stop_when_seeking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Stop all notes. This flag is applied automatically if it has been set on
the channel via the <a class="reference internal" href="Bass4Py.bass.Music.stop_when_seeking.html#Bass4Py.bass.Music.stop_when_seeking" title="Bass4Py.bass.Music.stop_when_seeking"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.bass.Music.stop_when_seeking</span></code></a>
attribute. (available for <a class="reference internal" href="Bass4Py.bass.Music.html#Bass4Py.bass.Music" title="Bass4Py.bass.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.bass.Music</span></code></a> only)</p></li>
<li><p><strong>reset_when_seeking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Stop all notes and reset bpm/etc to defaults. This flag is applied
automatically if it has been set on the channel via the
<a class="reference internal" href="Bass4Py.bass.Music.reset_when_seeking.html#Bass4Py.bass.Music.reset_when_seeking" title="Bass4Py.bass.Music.reset_when_seeking"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.bass.Music.reset_when_seeking</span></code></a> attribute. (available for
<a class="reference internal" href="Bass4Py.bass.Music.html#Bass4Py.bass.Music" title="Bass4Py.bass.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.bass.Music</span></code></a> only)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>success</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="Bass4Py.exceptions.BassNotAFileError.html#Bass4Py.exceptions.BassNotAFileError" title="Bass4Py.exceptions.BassNotAFileError"><strong>Bass4Py.exceptions.BassNotAFileError</strong></a> – The stream is not a file stream.</p></li>
<li><p><a class="reference internal" href="Bass4Py.exceptions.BassPositionError.html#Bass4Py.exceptions.BassPositionError" title="Bass4Py.exceptions.BassPositionError"><strong>Bass4Py.exceptions.BassPositionError</strong></a> – The requested position is invalid, eg. it is beyond the end or the
    download has not yet reached it.</p></li>
<li><p><a class="reference internal" href="Bass4Py.exceptions.BassNotAvailableError.html#Bass4Py.exceptions.BassNotAvailableError" title="Bass4Py.exceptions.BassNotAvailableError"><strong>Bass4Py.exceptions.BassNotAvailableError</strong></a> – The requested mode is not available. Invalid flags are ignored and do not
    result in this error.</p></li>
<li><p><a class="reference internal" href="Bass4Py.exceptions.BassUnknownError.html#Bass4Py.exceptions.BassUnknownError" title="Bass4Py.exceptions.BassUnknownError"><strong>Bass4Py.exceptions.BassUnknownError</strong></a> – Some other mystery problem!</p></li>
</ul>
</dd>
</dl>
<p>Setting the position of a <a class="reference internal" href="Bass4Py.bass.Music.html#Bass4Py.bass.Music" title="Bass4Py.bass.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.bass.Music</span></code></a> in bytes (other than
0) requires that the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.MUSIC.PRESCAN</span></code> flag was used
in the <a class="reference internal" href="Bass4Py.bass.OutputDevice.create_music_from_file.html#Bass4Py.bass.OutputDevice.create_music_from_file" title="Bass4Py.bass.OutputDevice.create_music_from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bass4Py.bass.OutputDevice.create_music_from_file()</span></code></a> call, or
the use of the decodeto flag. When setting the position in orders and rows,
the channel’s byte position (as reported by
<a class="reference internal" href="Bass4Py.bass.ChannelBase.get_position.html#Bass4Py.bass.ChannelBase.get_position" title="Bass4Py.bass.ChannelBase.get_position"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_position()</span></code></a>) is reset to 0. That is
because it is not possible to get the byte position of an order/row
position; it is possible for an order/row position to never be played in
the normal course of events, or it may be played multiple times.
When setting the position of a <a class="reference internal" href="Bass4Py.bass.Music.html#Bass4Py.bass.Music" title="Bass4Py.bass.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bass4Py.bass.Music</span></code></a>, and the
stop_when_seeking flag is active, all notes that were playing before the
position changed will be stopped. Otherwise, the notes will continue
playing until they are stopped in the MOD music. When setting the position
in bytes, the BPM, speed and global volume are updated to what they would
normally be at the new position. Otherwise they are left as they were prior
to the position change, unless the seek position is 0 (the start), in which
case they are also reset to the starting values (with the stop_when_seeking
flag). When the reset_when_seeking flag is active, the BPM, speed and
global volume are reset with every seek. The reset_when_seeking flag (or
seeking to position 0) also resets channel volume and panning to defaults.
For MP3/MP2/MP1 streams, unless the file is scanned via the scan flag or
the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.STREAM.PRESCAN</span></code> flag at stream creation,
seeking will be approximate but generally still quite accurate. Besides
scanning, exact seeking can also be achieved with the decodeto flag.
Seeking in internet file (and “buffered” user file) streams is possible
once the download has reached the requested position, so long as the file
is not being streamed in blocks (<code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.STREAM.BLOCK</span></code>
flag).
The stop_when_seeking flag can be used to reset/flush a buffered user file
stream, so that new data can be processed, but it may not be supported by
some decoders. When it is not supported,
<a class="reference internal" href="Bass4Py.bass.OutputDevice.create_stream_from_file_obj.html#Bass4Py.bass.OutputDevice.create_stream_from_file_obj" title="Bass4Py.bass.OutputDevice.create_stream_from_file_obj"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bass4Py.bass.OutputDevice.create_stream_from_file_obj()</span></code></a> can be used
again instead to create a new stream for the new data.
User streams (created with
<a class="reference internal" href="Bass4Py.bass.OutputDevice.create_stream_from_parameters.html#Bass4Py.bass.OutputDevice.create_stream_from_parameters" title="Bass4Py.bass.OutputDevice.create_stream_from_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bass4Py.bass.OutputDevice.create_stream_from_parameters()</span></code></a>) are not
seekable, but it is possible to reset a user stream (including its buffer
contents) by setting its position to byte 0.
The decodeto flag can be used to seek forwards in streams that are not
normally seekable, like custom streams or internet streams that are using
the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.STREAM.BLOCK</span></code> flag, but it will only go as far
as what is currently available; it will not wait for more data to be
downloaded, for example.
In some cases, particularly when the inexact flag is used, the new position
may not be what was requested.
<a class="reference internal" href="Bass4Py.bass.ChannelBase.get_position.html#Bass4Py.bass.ChannelBase.get_position" title="Bass4Py.bass.ChannelBase.get_position"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_position()</span></code></a> can be used to confirm what
the new position actually is.
The scan flag works the same way as the
<a class="reference internal" href="Bass4Py.bass.OutputDevice.create_stream_from_file.html#Bass4Py.bass.OutputDevice.create_stream_from_file" title="Bass4Py.bass.OutputDevice.create_stream_from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bass4Py.bass.OutputDevice.create_stream_from_file()</span></code></a>
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.STREAM.PRESCAN</span></code> flag, and can be used to delay the
scanning until after the stream has been created. When a position beyond
the end is requested, the call will fail
(<a class="reference internal" href="Bass4Py.exceptions.BassPositionError.html#Bass4Py.exceptions.BassPositionError" title="Bass4Py.exceptions.BassPositionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Bass4Py.exceptions.BassPositionError</span></code></a> error) but the seek table and
exact length will have been scanned. When a file has been scanned, all
seeking (even without the scan flag) within the scanned part of it will use
the scanned infomation.
When looping is enabled, the <a class="reference internal" href="Bass4Py.constants.POSITION.LOOP.html#Bass4Py.constants.POSITION.LOOP" title="Bass4Py.constants.POSITION.LOOP"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.LOOP</span></code></a> and
<a class="reference internal" href="Bass4Py.constants.POSITION.END.html#Bass4Py.constants.POSITION.END" title="Bass4Py.constants.POSITION.END"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.END</span></code></a> modes can be used to set custom loop
start and end points in bytes. Non-byte position (eg.
<a class="reference internal" href="Bass4Py.constants.POSITION.MUSIC_ORDER.html#Bass4Py.constants.POSITION.MUSIC_ORDER" title="Bass4Py.constants.POSITION.MUSIC_ORDER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.constants.POSITION.MUSIC_ORDER</span></code></a>) custom looping is also
possible by setting a “mixtime” sync at the loop end position via
<a class="reference internal" href="Bass4Py.bass.Channel.set_sync.html#Bass4Py.bass.Channel.set_sync" title="Bass4Py.bass.Channel.set_sync"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_sync()</span></code></a> and then seeking to the loop start
position in the <a class="reference internal" href="Bass4Py.bass.Sync.callback.html#Bass4Py.bass.Sync.callback" title="Bass4Py.bass.Sync.callback"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Bass4Py.bass.Sync.callback</span></code></a>.</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Bass4Py</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../apireference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Bass4Py Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../apireference.html">API Reference</a><ul>
  <li><a href="Bass4Py.bass.html">Bass4Py.bass</a><ul>
  <li><a href="Bass4Py.bass.Music.html">Music</a><ul>
      <li>Previous: <a href="Bass4Py.bass.Music.set_fx.html" title="previous chapter">Music.set_fx</a></li>
      <li>Next: <a href="Bass4Py.bass.Music.set_sync.html" title="next chapter">Music.set_sync</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019-2021, Toni Barth.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/_autosummary/Bass4Py.bass.Music.set_position.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>